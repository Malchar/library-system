<!DOCTYPE html>
<html>

<head>
    <title>Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- https://www.hostinger.com/tutorials/website/how-to-link-a-stylesheet-css-file-to-your-html-file -->
    <link rel="stylesheet" type="text/css" href="css/style.css" media="screen" />

</head>

<body>

    <div class="myBg">

        <div class="card myCard">
            
            <div class="card-body">
                <h1>New Account Registration</h1>
                <form id="registration_form">

                    

                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">First Name</label>
                        <input type="text" name="firstName" class="form-control" id="exampleFormControlInput1"
                            placeholder="enter your first name">
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput2" class="form-label">Last Name</label>
                        <input type="text" name="lastName" class="form-control" id="exampleFormControlInput2"
                            placeholder="enter your last name">
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput3" class="form-label">Email</label>
                        <input type="text" name="email" class="form-control" id="exampleFormControlInput3"
                            placeholder="enter your email">
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput4" class="form-label">Password</label>
                        <input type="password" name="password" class="form-control" id="exampleFormControlInput4"
                            placeholder="enter your password">
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput5" class="form-label">Confirm Password</label>
                        <input type="password" name="confirmPassword" class="form-control" id="exampleFormControlInput5"
                            placeholder="confirm your password">
                    </div>

                    <button type="submit" class="btn btn-primary myButton" id="sButton">Create Account</button>


                </form>

            </div>
        </div>
    </div>
    <script>

        // form validation
        let validate = function (event) {

            event.preventDefault();

            let errorMessage = "";
            let isValid = true;
            // validate first name
            let firstName = document.getElementById("exampleFormControlInput1").value;
            if (firstName.length == 0) {
                // make this input box red
                isValid = false;
                errorMessage += "First name cannot be blank.\n";
            }
            else if (firstName.match(/\s/)) {
                isValid = false;
                errorMessage += "First name cannot contain a space.\n";
            }
            // validate last name
            let lastName = document.getElementById("exampleFormControlInput2").value;
            if (lastName.length == 0) {
                isValid = false;
                errorMessage += "Last name cannot be blank.\n";
            }
            // validate email
            let email = document.getElementById("exampleFormControlInput3").value;
            if (email.length == 0) {
                isValid = false;
                errorMessage += "Email cannot be blank.\n";
            }
            else if (!(email.match(/[a-z0-9]+@[a-z]+\.[a-z]{2,3}/))) {
                isValid = false;
                errorMessage += "Email has the wrong format.\n";
            }
            // validate pass
            let password = document.getElementById("exampleFormControlInput4").value;
            if (password.length < 8 || password.length > 20) {
                isValid = false;
                errorMessage += "Password length must be between 8 and 20.\n";
            }
            if (!password.match(/(?=.*[A-Za-z])(?=.*\d)/)) {
                isValid = false;
                errorMessage += "Password must contain at least one letter and one number.\n";
            }
            // validate confirm pass
            let confirmPassword = document.getElementById("exampleFormControlInput5").value;
            if (confirmPassword != password) {
                isValid = false;
                errorMessage += "Password confirmation does not match the password.\n";
            }
            // output
            if (!isValid) {
                alert(errorMessage);
            }
            else {
                // remove all error coloring
                alert("Successful");
            }


            return isValid;
        }

        // attach the function to the form
        let form = document.getElementById("registration_form");
        form.addEventListener("submit", validate, true);

        /*

        .message {
        position: absolute;
        left: 2rem;
        font-size: 1.2rem;
        font-weight: 700;
        letter-spacing: 0.1rem;
        text-transform: uppercase;
        margin-top: 1rem;
        color: #f55e5e;
        visibility: hidden;
        opacity: 0;
        transition: opacity 0.3s;
        }

        .error .message {
        visibility: visible;
        opacity: 1;
        }

        .success .form-input {
        border: 0.1rem solid #46e75b;
        }
        */

    </script>
</body>

</html>